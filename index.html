<!DOCTYPE html>
<html>
<head>
    <title>Notes App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="login-form">
        <input type="text" id="username" placeholder="Username (lowercase letters only)">
        <button id="login-btn">Login</button>
    </div>

    <div id="notes-app" style="display: none;">
        <div id="note-list"></div>
        <div id="new-note-form">
            <textarea id="note-text" placeholder="Enter note text"></textarea>
            <select id="priority">
                <option value="Very Low">Very Low</option>
                <option value="Low">Low</option>
                <option value="Medium">Medium</option>
                <option value="High">High</option>
                <option value="Very High">Very High</option>
            </select>
            <select id="category">
                <option value="Select Category">Select Category</option>
                </select>
            <button id="create-note-btn">Create Note</button>
            <div id="error-messages"></div>
        </div>
        <button id="logout-btn">Logout</button>
    </div>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
    font-family: Arial, sans-serif;
    }
    
    #login-form {
    text-align: center;
    margin-top: 100px;
    }
    
    #login-form input {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-bottom: 10px;
    }
    
    #login-form button {
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    }
    
    #login-form button:hover {
    background-color: #3e8e41;
    }
    
    #notes-app {
    padding: 20px;
    }
    
    #note-list {
    list-style: none;
    padding: 0;
    }
    
    .note {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px;
    margin-bottom: 10px;
    }
    
    .note p {
    margin: 0;
    }
    
    .delete-btn {
    background-color: #f44336;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 5px 10px;
    cursor: pointer;
    }
    
    .delete-btn:hover {
    background-color: #d32f2f;
    }
    
    #new-note-form {
    margin-top: 20px;
    }
    
    #new-note-form textarea {
    width: 100%;
    height: 100px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    }
    
    #new-note-form select {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    }
    
    #new-note-form button {
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    }
    
    #new-note-form button:hover {
    background-color: #3e8e41;
    }
    
    #error-messages {
    color: red;
    list-style: none;
    padding: 0;
    }
    </style>
    <script>
        const loginForm = document.getElementById('login-form');
const notesApp = document.getElementById('notes-app');
const usernameInput = document.getElementById('username');
const loginBtn = document.getElementById('login-btn');
const noteList = document.getElementById('note-list');
const noteText = document.getElementById('note-text');
const prioritySelect = document.getElementById('priority');
const categorySelect = document.getElementById('category');
const createNoteBtn = document.getElementById('create-note-btn');
const errorMessages = document.getElementById('error-messages');
const logoutBtn = document.getElementById('logout-btn');

let currentUser = null;
let allNotes = {};

// Load notes from Local Storage if available
const storedNotes = localStorage.getItem('allNotes');
if (storedNotes) {
    allNotes = JSON.parse(storedNotes);
}

// Handle login
loginBtn.addEventListener('click', () => {
    const username = usernameInput.value.trim().toLowerCase();
    if (username.length > 0 && /^[a-z]+$/.test(username)) {
        currentUser = username;
        loginForm.style.display = 'none';
        notesApp.style.display = 'block';
        loadNotes();
    } else {
        alert('Invalid username. Please enter a valid lowercase username.');
    }
});

// Handle note creation
createNoteBtn.addEventListener('click', () => {
    const noteTextValue = noteText.value.trim();
    const priorityValue = prioritySelect.value;
    const categoryValue = categorySelect.value;

    if (noteTextValue && priorityValue !== 'Select Category') {
        const newNote = {
            text: noteTextValue,
            priority: priorityValue,
            category: categoryValue
        };

        if (!allNotes[currentUser]) {
            allNotes[currentUser] = [];
        }

        allNotes[currentUser].push(newNote);

        localStorage.setItem('allNotes', JSON.stringify(allNotes));
        loadNotes();
        clearForm();
    } else {
        errorMessages.innerHTML = '';
        if (!noteTextValue) {
            errorMessages.innerHTML += '<li>Please enter note text.</li>';
        }
        if (priorityValue === 'Select Category') {
            errorMessages.innerHTML += '<li>Please select a category.</li>';
        }
    }
});

// Handle logout
logoutBtn.addEventListener('click', () => {
    currentUser = null;
    loginForm.style.display = 'block';
    notesApp.style.display = 'none';
    usernameInput.value = '';
});

// Load notes for the current user
function loadNotes() {
    noteList.innerHTML = '';
    if (allNotes[currentUser]) {
        allNotes[currentUser].forEach((note, index) => {
            const noteElement = document.createElement('div');
            noteElement.classList.add('note');
            noteElement.innerHTML = `
                <p>${note.text}</p>
                <p>Priority: ${note.priority}</p>
                <p>Category: ${note.category}</p>
                <button class="delete-btn">Delete</button>
            `;
            noteList.appendChild(noteElement);

            // Handle note deletion
            const deleteBtn = noteElement.querySelector('.delete-btn');
            deleteBtn.addEventListener('click', () => {
                allNotes[currentUser].splice(index, 1);
                localStorage.setItem('allNotes', JSON.stringify(allNotes));
                loadNotes();
            });
        });
    }
}

// Clear the new note form
function clearForm() {
    noteText.value = '';
    prioritySelect.value = 'Select Category';
    categorySelect.value = 'Select Category';
    errorMessages.innerHTML = '';
}
    </script>
</body>
</html>